<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Apache Flink 0.6-SNAPSHOT Documentation: Quickstart: Setup</title>

    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/syntax.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
        <div class="row">
            <h1>Apache Flink 0.6-SNAPSHOT Documentation</h1>
        </div>
        <div class="row">
            <div class="col-md-3">
                <ul>
                    <li>Quickstart
                        <ul>
                            <li><a href="setup_quickstart.html">Install</a></li>
                            <li><a href="run_example_quickstart.html">Run Example</a></li>
                            <li><a href="java_api_quickstart.html">Java API</a></li>
                            <li><a href="scala_api_quickstart.html">Scala API</a></li>
                            <li><a href="faq.html">FAQ</a></li>
                        </ul>
                    </li>

                    <li>Setup &amp; Configuration
                        <ul>
                            <li><a href="local_setup.html">Local Setup</a></li>
                            <li><a href="cluster_setup.html">Cluster Setup</a></li>
                            <li><a href="yarn_setup.html">YARN Setup</a></li>
                            <li><a href="config.html">Configuration</a></li>
                        </ul>
                    </li>

                    <li>Programming Guides
                        <ul>
                            <li><a href="java_api_guide.html">Java API</a></li>
                            <li><a href="scala_api_guide.html">Scala API</a></li>
                            <li><a href="hadoop_compatability.html">Hadoop Compatability</a></li>
                            <li><a href="iterations.html">Iterations</a></li>
                            <li><a href="spargel_guide.html">Spargel Graph API</a></li>
                        </ul>
                    </li>

                    <li>Examples
                        <ul>
                            <li><a href="java_api_examples.html">Java API</a></li>
                            <li><a href="scala_api_examples.html">Scala API</a></li>
                        </ul>
                    </li>

                    <li>Execution
                        <ul>
                            <li><a href="local_execution.html">Local/Debugging</a></li>
                            <li><a href="cluster_execution.html">Cluster</a></li>
                            <li><a href="cli.html">Command-Line Interface</a></li>
                            <li><a href="web_client.html">Web Interface</a></li>
                        </ul>
                    </li>

                    <li>Internals
                        <ul>
                            <li><a href="internal_overview.html">Overview</a></li>
                            <li><a href="internal_general_arch.html">General Architecture</a></li>
                            <li><a href="internal_add_operator.html">How-to: Adding a new Operator</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="col-md-9">
                <h1>Quickstart: Setup</h1>

                <ul>
<li>
<a href="#requirements">Requirements</a>
</li>
<li>
<a href="#download">Download</a>
</li>
<li>
<a href="#start">Start</a>
</li>
<li>
<a href="#run-example">Run Example</a>
</li>
<li>
<a href="#cluster-setup">Cluster Setup</a>
</li>
<li>
<a href="#stratosphere-on-yarn">Stratosphere on YARN</a>
</li>
</ul>


                <p>Get Stratosphere up and running in a few simple steps.</p>

<h1 id="requirements">Requirements</h1>

<p>Stratosphere runs on all <strong>UNIX-like</strong> environments: <strong>Linux</strong>, <strong>Mac OS X</strong>, <strong>Cygwin</strong>. The only requirement is to have a working <strong>Java 6.x</strong> (or higher) installation.</p>

<h1 id="download">Download</h1>

<p>Download the ready to run binary package. Choose the Stratosphere distribution that <strong>matches your Hadoop version</strong>. If you are unsure which version to choose or you just want to run locally, pick the package for Hadoop 1.2.</p>

<ul class="nav nav-tabs">
   <li class="active"><a href="#bin-hadoop1" data-toggle="tab">Hadoop 1.2</a></li>
   <li><a href="#bin-hadoop2" data-toggle="tab">Hadoop 2 (YARN)</a></li>
 </ul>

<p><div class="tab-content text-center">
   <div class="tab-pane active" id="bin-hadoop1">
     <a class="btn btn-info btn-lg" onclick="_gaq.push(['_trackEvent','Action','download-quickstart-setup-1',this.href]);" href=""><i class="icon-download"> </i> Download Stratosphere for Hadoop 1.2</a>
   </div>
   <div class="tab-pane" id="bin-hadoop2">
     <a class="btn btn-info btn-lg" onclick="_gaq.push(['_trackEvent','Action','download-quickstart-setup-2',this.href]);" href=""><i class="icon-download"> </i> Download Stratosphere for Hadoop 2 (YARN)</a>
   </div>
 </div>
</p></p>

<h1 id="start">Start</h1>

<p>You are almost done.</p>

<ol>
<li>Go to the download directory.</li>
<li>Unpack the downloaded archive.</li>
<li>Start Stratosphere.</li>
</ol>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd</span> ~/Downloads              <span class="c"># Go to download directory</span>
<span class="nv">$ </span>tar xzf stratosphere-*.tgz  <span class="c"># Unpack the downloaded archive</span>
<span class="nv">$ </span><span class="nb">cd </span>stratosphere
<span class="nv">$ </span>bin/start-local.sh          <span class="c"># Start Stratosphere</span>
</code></pre></div>
<p>Check the <strong>JobManager&#39;s web frontend</strong> at <a href="http://localhost:8081">http://localhost:8081</a> and make sure everything is up and running.</p>

<h1 id="run-example">Run Example</h1>

<p>Run the <strong>Word Count example</strong> to see Stratosphere at work.</p>

<ul>
<li><strong>Download test data</strong>:
<code>bash
$ wget -O hamlet.txt http://www.gutenberg.org/cache/epub/1787/pg1787.txt
</code></li>
<li>You now have a text file called <em>hamlet.txt</em> in your working directory.</li>
<li><strong>Start the example program</strong>:
<code>bash
$ bin/stratosphere run \
--jarfile ./examples/stratosphere-java-examples--WordCount.jar \
--arguments file://`pwd`/hamlet.txt file://`pwd`/wordcount-result.txt
</code></li>
<li>You will find a file called <strong>wordcount-result.txt</strong> in your current directory.</li>
</ul>

<h1 id="cluster-setup">Cluster Setup</h1>

<p><strong>Running Stratosphere on a cluster</strong> is as easy as running it locally. Having <strong>passwordless SSH</strong> and <strong>the same directory structure</strong> on all your cluster nodes lets you use our scripts to control everything.</p>

<ol>
<li>Copy the unpacked <strong>stratosphere</strong> directory from the downloaded archive to the same file system path on each node of your setup.</li>
<li>Choose a <strong>master node</strong> (JobManager) and set the <code>jobmanager.rpc.address</code> key in <code>conf/stratosphere-conf.yaml</code> to its IP or hostname. Make sure that all nodes in your cluster have the same <code>jobmanager.rpc.address</code> configured.</li>
<li>Add the IPs or hostnames (one per line) of all <strong>worker nodes</strong> (TaskManager) to the slaves files in <code>conf/slaves</code>.</li>
</ol>

<p>You can now <strong>start the cluster</strong> at your master node with <code>bin/start-cluster.sh</code>.</p>

<p>The following <strong>example</strong> illustrates the setup with three nodes (with IP addresses from <em>10.0.0.1</em> to <em>10.0.0.3</em> and hostnames <em>master</em>, <em>worker1</em>, <em>worker2</em>) and shows the contents of the configuration files, which need to be accessible at the same path on all machines:</p>

<div class="row">
  <div class="col-md-6 text-center">
    <img src="img/quickstart_cluster.png" style="width: 85%">
  </div>
<div class="col-md-6">
  <div class="row">
    <p class="lead text-center">
      /path/to/<strong>stratosphere/conf/<br>stratosphere-conf.yaml</strong>
    <pre>jobmanager.rpc.address: 10.0.0.1</pre>
    </p>
  </div>
<div class="row" style="margin-top: 1em;">
  <p class="lead text-center">
    /path/to/<strong>stratosphere/<br>conf/slaves</strong>
  <pre>
    10.0.0.2
    10.0.0.3
  </pre>
  </p>
</div>

<p></div>
</div></p>

<h1 id="stratosphere-on-yarn">Stratosphere on YARN</h1>

<p>You can easily deploy Stratosphere on your existing <strong>YARN cluster</strong>. </p>

<ol>
<li>Download the <strong>Stratosphere YARN package</strong> with the YARN client: <a href="">Stratosphere for YARN</a></li>
<li>Make sure your <strong>HADOOP_HOME</strong> (or <em>YARN_CONF_DIR</em> or <em>HADOOP_CONF_DIR</em>) <strong>environment variable</strong> is set to read your YARN and HDFS configuration.</li>
<li>Run the <strong>YARN client</strong> with: <code>./bin/yarn-session.sh</code>. You can run the client with options <code>-n 10 -tm 8192</code> to allocate 10 TaskManagers with 8GB of memory each.</li>
</ol>

<p>For <strong>more detailed instructions</strong>, check out the programming Guides and examples.</p>

            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  </body>
</html>